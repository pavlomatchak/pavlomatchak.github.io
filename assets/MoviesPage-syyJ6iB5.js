import{r as a,d as l,j as e,a as x,A as y}from"./index-BtQMCz1v.js";import{M as v}from"./MoviesList-CUKPQOtf.js";import"./index-DKwoqn4X.js";const d="_form_cm7hb_1",S="_input_cm7hb_7",i={form:d,input:S},_=()=>{const[s,n]=a.useState(""),[m,h]=a.useState([]),[f,u]=l(),o=f.get("query");a.useEffect(()=>{o&&n(o)},[o]),a.useEffect(()=>{async function t(){const r={headers:{Authorization:`Bearer ${y}`},params:{query:s}};x.get("https://api.themoviedb.org/3/search/movie",r).then(({data:c})=>{h(c.results)}).catch(c=>console.error(c))}s.length&&(u({query:s}),t())},[s,u]);function p(t){t.preventDefault();const r=t.target.elements.query.value;r.length&&n(r)}return e.jsxs("div",{children:[e.jsxs("form",{onSubmit:p,className:i.form,children:[e.jsx("input",{type:"text",name:"query",className:i.input,required:!0}),e.jsx("button",{type:"submit",children:"Search"})]}),e.jsx(v,{movies:m})]})};export{_ as default};
