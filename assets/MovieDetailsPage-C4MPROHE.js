import{u as m,r as c,b as v,c as u,j as e,L as l,O as j,a as _,A as g}from"./index-BtQMCz1v.js";import{P as f}from"./index-DKwoqn4X.js";const b="_page_l5t6x_1",k="_movie_l5t6x_7",N="_poster_l5t6x_16",w="_additional_l5t6x_20",P="_back_l5t6x_24",a={page:b,movie:k,poster:N,additional:w,back:P},$=({setMovieId:r})=>{const{movieId:i}=m(),[s,d]=c.useState(null),h=v(),p=u();c.useEffect(()=>{async function t(){const o={headers:{Authorization:`Bearer ${g}`}};_.get(`https://api.themoviedb.org/3/movie/${i}`,o).then(({data:n})=>{d(n)}).catch(n=>console.error(n))}i&&(r(i),t())},[i,r]);function x(){var t;h(((t=p.state)==null?void 0:t.from)||"/",{replace:!0})}return e.jsxs("div",{className:a.page,children:[e.jsx("button",{type:"button",onClick:x,className:a.back,children:"← Go back"}),s&&e.jsxs("div",{className:a.movie,children:[e.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${s.poster_path}`,alt:s.title,className:a.poster}),e.jsxs("div",{className:a.about,children:[e.jsx("h2",{children:s.title}),e.jsxs("p",{children:["User score: ",Math.round(s.vote_average*10),"%"]}),e.jsx("h3",{children:"Overview"}),e.jsx("p",{children:s.overview}),e.jsx("h4",{children:"Genres"}),s.genres.map((t,o)=>`${t.name}${o<s.genres.length-1?", ":""}`)]})]}),e.jsxs("div",{className:a.additional,children:[e.jsx("h4",{children:"Additional information"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(l,{to:"cast",children:"Cast"})}),e.jsx("li",{children:e.jsx(l,{to:"reviews",children:"Reviews"})})]})]}),e.jsx(j,{})]})};$.propTypes={setMovieId:f.func.isRequired};export{$ as default};
